<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Web Project Fixed Layout</title>
    <style>
        /* --- CSS RESET & BASE --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
            -webkit-user-drag: none;
            -webkit-tap-highlight-color: transparent;
        }

        body, html {
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #000;
        }

        /* BACKGROUND LAYER */
        #background-layer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('BACKGROUND (1).webp');
            background-size: cover;
            background-position: center;
            z-index: 0;
        }

        /* MAIN GAME CONTAINER (1920x1080) */
        #game-container {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 1920px;
            height: 1080px;
            transform-origin: center center;
            z-index: 1;
        }

        /* --- UTILITY CLASSES --- */
        .absolute-img {
            position: absolute;
            display: block;
            pointer-events: auto; 
        }

        /* Kelas khusus untuk elemen Tengah (Book & Message) */
        .absolute-center-img {
            position: absolute;
            display: block;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%); /* Kunci agar tetap di tengah */
        }

        .clickable-btn {
            cursor: pointer;
            transition: transform 0.1s ease, filter 0.1s ease;
        }
        .clickable-btn:hover { transform: scale(1.05); filter: brightness(1.1); }
        .clickable-btn:active { transform: scale(0.95); }

        /* --- ANIMATIONS --- */
        
        /* 1. Slide Up NORMAL (Untuk elemen yang pakai koordinat top/left biasa) */
        @keyframes slideUpNormal {
            from { opacity: 0; transform: translateY(100px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* 2. Slide Up CENTER (KHUSUS elemen tengah agar tidak geser) */
        @keyframes slideUpCenter {
            from { opacity: 0; transform: translate(-50%, -50%) translateY(100px); }
            to { opacity: 1; transform: translate(-50%, -50%) translateY(0); }
        }

        /* 3. Pulse (Tombol Play) */
        @keyframes pulsePlay {
            0% { transform: scale(1); filter: brightness(1); }
            50% { transform: scale(1.05); filter: brightness(1.1); }
            100% { transform: scale(1); filter: brightness(1); }
        }

        /* --- CLASS ANIMASI JS --- */
        .anim-normal {
            animation: slideUpNormal 0.8s ease-out forwards;
        }
        
        .anim-center {
            animation: slideUpCenter 0.8s ease-out forwards;
        }

        /* --- LANDING PAGE --- */
        #landing-page { width: 100%; height: 100%; position: absolute; top: 0; left: 0; z-index: 10; }
        
        #bg-open { left: 249.4px; top: 127.1px; animation: slideUpNormal 0.8s ease-out forwards; opacity: 0; }
        #judul { left: 478.8px; top: 239.6px; animation: slideUpNormal 0.8s ease-out 0.3s forwards; opacity: 0; }
        #btn-play { left: 795.1px; top: 530px; animation: slideUpNormal 0.8s ease-out 0.6s forwards, pulsePlay 2s infinite ease-in-out 1.5s; opacity: 0; }

        /* --- STAGE PAGE --- */
        #stage-page {
            width: 100%; height: 100%; position: absolute; top: 0; left: 0;
            display: none; z-index: 5;
        }

        /* MESSAGE OVERLAY (Revisi: Transparan) */
        #message-overlay {
            position: absolute;
            width: 100%; height: 100%; top: 0; left: 0;
            background-color: transparent; /* TIDAK ADA BACKGROUND HITAM */
            z-index: 100;
            display: flex; justify-content: center; align-items: center;
            cursor: pointer; opacity: 0;
            transition: opacity 0.5s ease;
        }

        /* Elemen Stage (Awalnya Hidden) */
        .stage-element { opacity: 0; }

        /* Z-Index & Koordinat Presisi */
        #stage-book { z-index: 2; } /* Center */
        #stage-track { z-index: 3; left: 430.8px; top: 378px; }
        
        /* Layer Atas */
        .stage-top-layer { z-index: 4; }

        #text-c1 { left: 430.8px; top: 234.2px; }
        #text-c2 { left: 339.2px; top: 742.9px; }
        #text-c3 { left: 1251px; top: 186.4px; }
        #text-wp { left: 1062.2px; top: 700.9px; }

        #btn-c1 { left: 357.2px; top: 366.2px; }
        #btn-c2 { left: 650.9px; top: 643.2px; }
        #btn-c3 { left: 1109.7px; top: 312.5px; }
        #btn-prize { left: 1318.8px; top: 486.5px; }

        /* --- TRANSITION SCREEN --- */
        #transition-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: black; z-index: 999;
            pointer-events: none; opacity: 0; transition: opacity 0.5s ease;
        }

    </style>
</head>
<body>

    <div id="background-layer"></div>
    <div id="transition-screen"></div>

    <div id="game-container">
        
        <div id="landing-page">
            <img src="BG OPEN.webp" id="bg-open" class="absolute-img">
            <img src="JUDUL.webp" id="judul" class="absolute-img">
            <img src="PLAY.webp" id="btn-play" class="absolute-img clickable-btn" onclick="startStageSequence()">
        </div>

        <div id="stage-page">
            
            <div id="message-overlay" onclick="closeMessage()">
                <img src="MESSAGE.webp" class="absolute-center-img"> </div>

            <img src="BOOK.webp" id="stage-book" class="absolute-center-img stage-element">
            
            <img src="TRACK.webp" id="stage-track" class="absolute-img stage-element">
            
            <img src="TEXT-C1.webp" id="text-c1" class="absolute-img stage-element stage-top-layer">
            <img src="TEXT-C2.webp" id="text-c2" class="absolute-img stage-element stage-top-layer">
            <img src="TEXT-C3.webp" id="text-c3" class="absolute-img stage-element stage-top-layer">
            <img src="TEXT-WP.webp" id="text-wp" class="absolute-img stage-element stage-top-layer">

            <img src="BUTTON-C1.webp" id="btn-c1" class="absolute-img clickable-btn stage-element stage-top-layer" onclick="handleButtonClick(1)">
            <img src="BUTTON-C2.webp" id="btn-c2" class="absolute-img clickable-btn stage-element stage-top-layer" onclick="handleButtonClick(2)">
            <img src="BUTTON-C3.webp" id="btn-c3" class="absolute-img clickable-btn stage-element stage-top-layer" onclick="handleButtonClick(3)">
            <img src="PRIZE.webp" id="btn-prize" class="absolute-img clickable-btn stage-element stage-top-layer" onclick="handleButtonClick('prize')">
        </div>

    </div>

    <script>
        /* --- AUTO SCALING --- */
        function resizeGame() {
            const container = document.getElementById('game-container');
            const scale = Math.min(window.innerWidth / 1920, window.innerHeight / 1080);
            container.style.transform = `translate(-50%, -50%) scale(${scale})`;
        }
        window.addEventListener('load', resizeGame);
        window.addEventListener('resize', resizeGame);

        /* --- GAME LOGIC --- */

        function startStageSequence() {
            // Hilangkan Landing Page
            const landing = document.getElementById('landing-page');
            landing.style.transition = 'opacity 0.5s';
            landing.style.opacity = '0';
            
            setTimeout(() => {
                landing.style.display = 'none';
                
                // Munculkan Stage & Message
                const stagePage = document.getElementById('stage-page');
                stagePage.style.display = 'block';

                const msgOverlay = document.getElementById('message-overlay');
                // Fade In Message
                setTimeout(() => { msgOverlay.style.opacity = '1'; }, 50);
            }, 500);
        }

        function closeMessage() {
            const msgOverlay = document.getElementById('message-overlay');
            msgOverlay.style.opacity = '0';
            
            setTimeout(() => {
                msgOverlay.style.display = 'none';
                animateStageAssetsIn();
            }, 500);
        }

        function animateStageAssetsIn() {
            const book = document.getElementById('stage-book');
            const normalElements = document.querySelectorAll('.stage-element:not(#stage-book)');

            // 1. Munculkan Buku (Pakai animasi CENTER agar tidak geser)
            book.classList.add('anim-center');

            // 2. Munculkan elemen lain (Pakai animasi NORMAL) - Delay dikit
            setTimeout(() => {
                normalElements.forEach(el => {
                    el.classList.add('anim-normal');
                });
            }, 300);
        }

        function handleButtonClick(target) {
            const transitionScreen = document.getElementById('transition-screen');
            transitionScreen.style.opacity = '1'; // Layar Hitam Fade In

            setTimeout(() => {
                if(target === 1) alert("Challenge 1");
                else if(target === 2) alert("Challenge 2");
                else if(target === 3) alert("Challenge 3");
                else if(target === 'prize') alert("Prize");
                
                // transitionScreen.style.opacity = '0'; // Buka lagi nanti kalau sudah pindah halaman
            }, 500);
        }

    </script>
</body>
</html>
